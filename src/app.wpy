<style lang="less">
@font-face {
  font-family: 'iconfont';  /* project id 1136432 */
  src: url('//at.alicdn.com/t/font_1136432_y2f0n40vngg.eot');
  src: url('//at.alicdn.com/t/font_1136432_y2f0n40vngg.eot?#iefix') format('embedded-opentype'),
  url('//at.alicdn.com/t/font_1136432_y2f0n40vngg.woff2') format('woff2'),
  url('//at.alicdn.com/t/font_1136432_y2f0n40vngg.woff') format('woff'),
  url('//at.alicdn.com/t/font_1136432_y2f0n40vngg.ttf') format('truetype'),
  url('//at.alicdn.com/t/font_1136432_y2f0n40vngg.svg#iconfont') format('svg');
}

.iconfont {
  font-family:"iconfont" !important;
  font-size: 50rpx;
  font-style:normal;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}


.icon-sousuo:before { content: "\e635"; } // 搜索
.icon-dianhua4:before { content: "\e600"; } // 电话
.icon-dianhua:before { content: "\e613"; } // 电话2
.icon-shoucang1:before { content: "\e612"; } // 空心
.icon-shoucang:before { content: "\e601"; } // 实心
.icon-danxuanxuanzhong-copy:before { content: "\e602"; } // 圆圈
.icon-xuanzhong:before { content: "\e621"; } // 选中
.icon-ic_join_dialing_norm:before { content: "\e641"; } // 加号
.icon-erweima:before { content: "\e6de"; } // 二维码
.icon-dingweiweizhi:before { content: "\e60c"; } // 定位-地址
.icon-dingweisvg-:before { content: "\e607"; } // 定位
.icon-bianji:before { content: "\e632"; } // 编辑
.icon-guanbi:before { content: "\e61c"; } // 叉号
.icon-jiantou_shang:before { content: "\e634"; } // 向上
.icon-jiantou-xia:before { content: "\e609"; } // 向下
.icon-fanhui1-copy-copy:before { content: "\e603"; } // 箭头-左
.icon-jiantou-you:before { content: "\e60a"; } // 箭头-右
.icon-cujiantou1:before { content: "\e60d"; } // 箭头-右-加粗
.icon-wode:before { content: "\e604"; } // 导航-我的
.icon-shouye:before { content: "\e605"; } // 导航-客户
.icon-kehu:before { content: "\e606"; } // 导航-首页
.icon-shijian:before { content: "\e655"; } // 时间

.list{
  width: 690rpx;
  height: auto;
  padding: 0 30rpx;
}
.listPrompt{
  height: 78rpx;
  line-height: 78rpx;
  font-size: 26rpx;
  color: #e6e6e6;
  border-bottom: 1rpx solid #e6e6e6;
  text-align: center;
}
.mask{
  position: absolute;
  left: 0;
  top: 0;
  z-index: 9999;
  width: 100vw;
  height: 100vh;
  background-color:rgba(0,0,0,.4);
}
</style>

<script>
import wepy from 'wepy'
import 'wepy-async-function'


export default class extends wepy.app {
  config = {
    pages: [
      'pages/reportLocal', // 报备楼盘
      'pages/localInfo', // 项目详情（楼盘详情）
      'pages/index', // 首页
      'pages/ruleInfo', // 规则信息
      
      'pages/localMoreInfo', // 楼盘更多信息
      
      
      'pages/citySel', // 城市选择
      'pages/cultureLocal', // 文旅地产
      'pages/surroundingLocal', // 周边楼盘
      'pages/propertyLocal', // 本地楼盘
      'pages/user', // 个人中心
      'pages/collectionList', // 收藏列表
      'pages/reportList', // 报备列表
      'pages/modifyUserInfo', // 修改用户信息
      'pages/messageList', // 消息列表
      
    ],
    window: {
      backgroundTextStyle: 'light',
      navigationBarBackgroundColor: '#fff',
      navigationBarTitleText: 'WeChat',
      navigationBarTextStyle: 'black'
    }
  }

  globalData = {
    userInfo: null
  }

  constructor () {
    super()
    this.use('requestfix')
  }

  onLaunch() {
    this.testAsync()
  }

  sleep (s) {
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        resolve('promise resolved')
      }, s * 1000)
    })
  }

  async testAsync () {
    const data = await this.sleep(3)
    console.log(data)
  }

  getUserInfo(cb) {
    const that = this
    if (this.globalData.userInfo) {
      return this.globalData.userInfo
    }
    wepy.getUserInfo({
      success (res) {
        that.globalData.userInfo = res.userInfo
        cb && cb(res.userInfo)
      }
    })
  }
}
</script>
